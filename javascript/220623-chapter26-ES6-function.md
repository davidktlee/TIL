# TIL

ES6 이후에는 함수를 목적에 따라 세 가지 종류로 명확히 구분 했다.

일반 함수는 이전의 함수와 같으며, ES6의 메서드와 화살표 함수는 non-constructor 이다.

## 메서드

ES6 이후에는 축약 표현으로 정의된 함수 만을 메서드라 한다.

ES6는 메서드는 prototype 프로퍼티가 없고 프로토타입도 생성하지 않는다.

자신을 바인딩한 객체를 가리키는 내부 슬롯 `[[HomeObject]]` 를 갖는다.  → super 키워드 사용 가능

## 화살표 함수

함수 표현식으로 정의해야 한다.

중괄호를 생략한 경우에 객체를 반환하는 경우는 소괄호로 감싸줘야한다.

### 일반 함수와 화살표 함수의 차이

1. 화살표 함수는 non-constructor
2. 중복된 매개변수 선언 금지
3. 함수 자체의 `this`, `arguments`, `super`, `new`, [`new.target`](http://new.target)바인딩을 갖지 않는다.
    1. 따라서 화살표 내부에서 위의 것들을 참조하면 스코프 체인을 통해 상위 스코프의 것을 참조한다.

### this 바인딩

화살표 함수는 콜백 함수 내부의 this가 외부 함수의 this와 달라서 발생하는 문제를 해결하기 위해 설계 되었다. 예로 map 함수

ES6 이전에는 this를 다른 변수에 할당한 후 그 변수를 참조하도록 해서 사용하거나

map의 두번째 인수로 this로 사용할 객체를 전달하거나

bind 메서드를 통해 this를 바인딩 해줬다.

**화살표 함수는 함수 자체의 this 바인딩을 갖지 않기 때문에 상위 스코프의 this를 그대로 참조한다.**

**→ 이를 lexical this라 한다.**

일반적인 메서드는 ES6의 메서드를 사용하는 것이 좋다.
